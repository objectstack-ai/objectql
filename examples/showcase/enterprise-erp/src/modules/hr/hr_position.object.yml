# File: hr_position.object.yml
# Object name is inferred from filename as 'hr_position'
label: Position
description: Job position or role
icon: briefcase-line

ai_context:
  intent: "Define job positions and career levels in the organization"
  domain: human_resources
  aliases: [position, job role, title]
  common_queries:
    - "Show positions by department"
    - "Find positions by level"
    - "List active positions with salary ranges"

fields:
  title:
    type: text
    required: true
    label: Position Title
    index: true
  
  code:
    type: text
    required: true
    label: Position Code
    unique: true
    index: true
  
  level:
    type: select
    options:
      - label: Entry
        value: entry
      - label: Junior
        value: junior
      - label: Mid
        value: mid
      - label: Senior
        value: senior
      - label: Lead
        value: lead
      - label: Manager
        value: manager
      - label: Director
        value: director
      - label: Executive
        value: executive
    label: Position Level
    index: true
    ai_context:
      intent: "Career level and seniority for compensation bands"
      selection_guidance: "Entry for new grads; Senior for 5+ years experience"
  
  department:
    type: lookup
    reference_to: hr_department
    label: Department
    index: true
    ai_context:
      intent: "Department where this position exists"
      semantic_type: association
  
  reports_to:
    type: lookup
    reference_to: hr_position
    label: Reports To Position
    ai_context:
      intent: "Position hierarchy for reporting structure"
      semantic_type: hierarchy
  
  min_salary:
    type: currency
    label: Minimum Salary
  
  max_salary:
    type: currency
    label: Maximum Salary
  
  description:
    type: textarea
    label: Job Description
  
  requirements:
    type: textarea
    label: Requirements & Qualifications
  
  responsibilities:
    type: textarea
    label: Key Responsibilities
  
  status:
    type: select
    options:
      - label: Active
        value: active
      - label: Inactive
        value: inactive
    defaultValue: active
    index: true
    ai_context:
      intent: "Whether position is currently open for hiring"
      is_state_machine: true
      transitions:
        active: [inactive]
        inactive: [active]

indexes:
  # For department positions
  department_level_idx:
    fields: [department, level]
  
  # For position hierarchy
  reports_to_status_idx:
    fields: [reports_to, status]
