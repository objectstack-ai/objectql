# File: hr_employee.object.yml
# Object name is inferred from filename as 'hr_employee'
label: Employee
description: Company employee record
icon: user-line

ai_context:
  intent: "Manage employee records and organizational relationships"
  domain: human_resources
  aliases: [employee, staff, team member]
  common_queries:
    - "Show employees by department"
    - "Find employees by manager"
    - "List active employees by position"

fields:
  employee_number:
    type: text
    required: true
    label: Employee Number
    unique: true
    index: true
  
  user:
    type: lookup
    reference_to: user
    label: System User Account
    unique: true
    ai_context:
      intent: "Link to system user account for access control"
      semantic_type: association
  
  first_name:
    type: text
    required: true
    label: First Name
    index: true
  
  last_name:
    type: text
    required: true
    label: Last Name
    index: true
  
  full_name:
    type: formula
    expression: "first_name + ' ' + last_name"
    data_type: text
    label: Full Name
    description: "Automatically calculated from first and last name"
  
  email:
    type: text
    required: true
    label: Work Email
    unique: true
    index: true
  
  phone:
    type: text
    label: Work Phone
  
  mobile:
    type: text
    label: Mobile Phone
  
  department:
    type: lookup
    reference_to: hr_department
    label: Department
    required: true
    index: true
    ai_context:
      intent: "Department where employee works"
      semantic_type: hierarchy
  
  position:
    type: lookup
    reference_to: hr_position
    label: Position
    required: true
    index: true
    ai_context:
      intent: "Employee's job position and role"
      semantic_type: association
  
  manager:
    type: lookup
    reference_to: hr_employee
    label: Direct Manager
    index: true
    ai_context:
      intent: "Employee's direct supervisor for reporting structure"
      semantic_type: hierarchy
  
  hire_date:
    type: date
    required: true
    label: Hire Date
    index: true
  
  termination_date:
    type: date
    label: Termination Date
  
  employment_type:
    type: select
    options:
      - label: Full Time
        value: full_time
      - label: Part Time
        value: part_time
      - label: Contract
        value: contract
      - label: Intern
        value: intern
    defaultValue: full_time
    index: true
    ai_context:
      intent: "Employment classification for benefits and payroll"
      selection_guidance: "Full Time for regular employees; Contract for consultants"
  
  status:
    type: select
    options:
      - label: Active
        value: active
      - label: On Leave
        value: on_leave
      - label: Terminated
        value: terminated
    defaultValue: active
    required: true
    index: true
    ai_context:
      intent: "Current employment status"
      is_state_machine: true
      transitions:
        active: [on_leave, terminated]
        on_leave: [active, terminated]
        terminated: []
  
  salary:
    type: currency
    label: Base Salary
  
  location:
    type: text
    label: Office Location
    index: true
  
  emergency_contact_name:
    type: text
    label: Emergency Contact Name
  
  emergency_contact_phone:
    type: text
    label: Emergency Contact Phone
  
  notes:
    type: textarea
    label: Notes

indexes:
  # For department roster
  department_status_idx:
    fields: [department, status]
  
  # For org chart
  manager_department_idx:
    fields: [manager, department]
  
  # For position analysis
  position_status_idx:
    fields: [position, status]
  
  # For tenure reporting
  hire_date_status_idx:
    fields: [hire_date, status]
